/* Desktop-First Responsive Design */

/* Desktop screens (1200px and above) - Base styles already defined */

/* Large screens */
@media (max-width: 1199px) {
  #root {
    width: 85%;
  }
}

/* Medium screens */
@media (max-width: 991px) {
  #root {
    width: 90%;
  }
}

/* Tablet screens */
@media (max-width: 768px) {
  #root {
    width: 95%;
    padding: 1rem;
  }

  .mobile-only {
    display: block;
  }

  .desktop-only {
    display: none;
  }
  
  /* Hide header controls on mobile since all its children are desktop-only */
  .header-controls {
    display: none;
  }
  
  /* Ensure touch-friendly sizes on mobile */
  button,
  input[type="text"],
  input[type="url"],
  input[type="password"],
  select,
  textarea {
    min-height: var(--form-input-height);
    font-size: 16px; /* Prevents zoom on iOS */
  }

  /* App header adjustments */
  .app-header {
    padding: 0.75rem 1rem;
    flex-direction: column;
    gap: 0.5rem;
    position: sticky;
    top: 0;
    z-index: 1000;
  }
  
  .header-controls {
    width: 100%;
    flex-direction: column;
    gap: 0.5rem;
    display: none; /* Override above for mobile */
  }
  
  .app-logo {
    height: 25px;
    width: auto;
  }
  
  /* Main content adjustments */
  .main-content {
    padding: 1rem;
    padding-top: calc(1rem + var(--header-height, 80px));
    padding-bottom: calc(1rem + 90px); /* Account for fixed bottom action bar */
  }
  
  /* Provider section adjustments */
  .providers-display-section .providers-header {
    flex-direction: column;
    align-items: stretch;
    gap: 1rem;
  }
  
  .providers-display-section .providers-header h2 {
    font-size: 1.5rem;
  }
  
  .toggle-form-button {
    margin-top: 0;
    width: 100%;
  }
  
  /* Provider cards on mobile */
  .provider-item {
    margin-bottom: 1rem;
  }
  
  .provider-list {
    padding: 0;
  }
  
  /* Registered provider card mobile styles */
  .registered-provider-card {
    flex-direction: column;
    align-items: stretch;
    gap: 0.75rem;
    padding: 1rem;
  }
  
  .registered-provider-card .provider-name {
    font-size: 1rem;
    word-break: break-word;
  }
  
  .registered-provider-card .provider-icon {
    display: inline-block;
    margin-right: 0.25rem;
  }
  
  .registered-provider-card .provider-price {
    font-size: 0.85rem;
    padding: 3px 8px;
  }
  
  .registered-provider-card .provider-edit-button {
    width: 100%;
    padding: 0.75rem;
  }

  /* Mobile bottom action bar */
  .mobile-bottom-action-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 0.5rem;
    background: var(--card-bg);
    border-top: 1px solid var(--card-border);
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    z-index: 999;
    display: flex;
    gap: 0.5rem;
    justify-content: space-around;
  }

  /* Adjust action bar with only 2 buttons */
  .mobile-bottom-action-bar {
    gap: 0.75rem;
    padding: 0.75rem;
  }
  
  .mobile-action-button {
    max-width: 200px;
  }
  
  .mobile-action-button.primary {
    flex: 2; /* Make primary button larger when only 2 buttons */
  }
}

/* Mobile phone screens */
@media (max-width: 576px) {
  #root {
    width: 100%;
    padding: 0.75rem;
  }
  
  /* Smaller margins and padding on mobile */
  .card {
    padding: 0.75rem;
  }
  
  /* Full-width buttons on mobile */
  button {
    width: 100%;
    margin-bottom: 0.5rem;
  }

  /* Responsive validation panel */
  .validation-columns {
    flex-direction: column;
  }

  .validation-actions {
    flex-direction: column;
    gap: 10px;
  }

  .validation-actions button {
    width: 100%;
  }
  
  /* App header for very small screens */
  .app-header h1 {
    font-size: 1.2rem;
  }
  
  .node-info {
    font-size: 0.75rem;
  }
}

/* Desktop screens - ensure mobile-only is hidden */
@media (min-width: 769px) {
  .mobile-only {
    display: none;
  }

  .mobile-bottom-action-bar {
    display: none;
  }
}

/* Touch-specific enhancements */
@media (hover: none) and (pointer: coarse) {
  /* Better touch targets */
  button, 
  a, 
  summary {
    position: relative;
  }
  
  /* Invisible expanded touch area */
  button::after,
  a::after,
  summary::after {
    content: '';
    position: absolute;
    top: -8px;
    right: -8px;
    bottom: -8px;
    left: -8px;
  }
  
  /* Disable hover effects on touch devices */
  button:hover {
    background-color: inherit;
  }
  
  /* Improve scrolling on touch devices */
  .modal-body,
  .api-scaffold-content {
    -webkit-overflow-scrolling: touch;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .card,
  .modal-content {
    border-width: 2px;
  }
  
  button {
    border: 2px solid currentColor;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms;
    animation-iteration-count: 1;
    transition-duration: 0.01ms;
  }
}