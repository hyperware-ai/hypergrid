/* Mobile-Specific Styles - Applied within responsive breakpoints */

/* Modal adjustments for mobile - only apply within mobile breakpoints */
@media (max-width: 768px) {
  .modal-overlay {
    padding: 5px; /* Override base padding for more width */
  }
  
  .modal-content {
    width: var(--modal-max-width-mobile);
    max-width: 100%;
    margin: 0.25rem;
    max-height: calc(100vh - 0.5rem);
    overflow-y: auto;
    padding: 5px;
  }
  
  .modal-header {
    position: sticky;
    top: 0;
    background: var(--modal-content-bg);
    z-index: 10;
    padding: 0.75rem;
    margin: -5px -5px 10px -5px;
  }
  
  .modal-title {
    font-size: 1.25rem;
  }
  
  .modal-body {
    padding: 0;
  }
  
  /* Clear and copy form button mobile styles */
  .clear-form-button,
  .copy-form-button {
    padding: 4px 10px;
    font-size: 0.75rem;
    margin-bottom: 0;
    line-height: 1.2;
    min-height: auto;
  }
  
  /* Hide emoji on mobile for buttons */
  .clear-form-button .button-icon,
  .copy-form-button .button-icon {
    display: none;
  }
  
  /* Modal content columns - STACK VERTICALLY ON MOBILE */
  .modal-body .modal-content-columns {
    flex-direction: column;
    gap: 1rem;
    margin: 0;
    padding: 0;
  }
  
  /* Form layout on mobile */
  .modal-body .modal-left-column,
  .modal-body .modal-right-column {
    flex: none;
    max-width: 100%;
    width: 100%;
  }
  
  .modal-body .modal-left-column {
    gap: 1rem;
  }
  
  /* Hypergrid Entry Form (tree-container) mobile font sizes 
     Note: !important needed to override inline styles in HypergridEntryForm component */
  .modal-body .tree-container {
    font-size: 0.7rem !important;
    padding: 12px;
  }
  
  .modal-body .tree-title {
    font-size: 1rem !important;
  }
  
  .modal-body .tree-hns-name {
    font-size: 0.95rem !important;
  }
  
  .modal-body .tree-hns-name input {
    font-size: 0.95rem !important;
  }
  
  .modal-body .tree-container input {
    font-size: 0.7rem !important;
  }
  
  .modal-body .tree-container textarea {
    font-size: 0.7rem !important;
  }
  
  .modal-body .tree-container span {
    font-size: 0.7rem !important;
  }
  
  .modal-body .tree-container label {
    font-size: 0.7rem !important;
    min-width: 80px !important; /* Reduce spacing on mobile */
  }
  
  /* Reduce spacing for field labels only (not tree characters) */
  .modal-body .tree-container span[style*="minWidth: '125px'"] {
    min-width: 80px !important;
    margin-right: 3px !important; /* Reduce gap between label and input */
  }
  
  /* Make tree rows more compact on mobile */
  .modal-body .tree-container div[style*="minHeight: '1.6em'"] {
    min-height: 1.4em !important;
  }
  
  /* API scaffold on mobile */
  .api-scaffold-container {
    margin-top: 1rem;
  }
  
  .api-scaffold-content {
    font-size: 0.8rem;
    padding: 0.75rem;
    overflow-x: auto;
    overflow-y: visible;
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
    max-width: 100%;
    box-sizing: border-box;
  }
  
  .api-scaffold-content code {
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
    display: block;
    width: 100%;
  }
  
  /* API format selection cards on mobile */
  .api-format-selection-pane pre {
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
    overflow-x: auto;
    font-size: 0.75rem;
    padding: 6px;
    margin: 0;
    max-width: 100%;
    box-sizing: border-box;
  }
  
  .api-format-selection-pane pre code {
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
    display: block;
    width: 100%;
  }
  
    /* Form inputs on mobile */
  .input-row-for-help {
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .input-row-for-help input {
    flex: 1 1 100%;
    margin-bottom: 0.5rem;
    width: 100%;
  }

  .input-row-for-help button {
    flex: 0 0 auto;
  }
  
  /* Ensure key display rows don't break on mobile */
  .key-display-row {
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  
  /* API Key placement options on mobile */
  .api-key-placement-options {
    justify-content: stretch;
    gap: 0.5rem;
  }
  
  .api-key-placement-option {
    flex: 1;
    text-align: center;
    margin-right: 0;
    margin-bottom: 0.5rem;
  }
  
  /* Selected API format on mobile */
  .selected-api-format {
    font-size: 0.9rem;
    margin-bottom: 1rem;
    text-align: center;
  }
  
  /* Parameter keys grid on mobile */
  .parameter-sections-container {
    gap: 1rem;
    flex-direction: column; /* Stack vertically on mobile */
  }
  
  .parameter-section-item {
    flex: none;
    min-width: 100%;
  }
  
  /* Stack API Key Name/Value on mobile */
  .modal-body .form-row-container {
    flex-direction: column;
    gap: 1rem;
  }
  
  .modal-body .form-row-container .form-compact-input-column {
    flex: none;
    min-width: 100%;
  }
  
  /* Make all key input rows compact and consistent on mobile */
  .key-input-row {
    display: flex;
    gap: 8px;
    align-items: center;
  }
  
  .key-input-row input {
    flex-grow: 1;
    font-size: 0.9rem;
    padding: var(--form-input-padding);
    height: var(--form-input-height);
    min-height: var(--form-input-height);
  }
  
  .key-input-row button {
    width: auto;
    padding: var(--form-button-padding);
    font-size: 0.9rem;
    height: var(--form-button-height);
    min-height: var(--form-button-height);
    flex-shrink: 0;
  }
  
  /* Validation panel on mobile */
  .validation-panel {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    min-height: 100%;
  }
  
  .validation-panel h3 {
    font-size: 1.2rem;
    margin-bottom: 0.75rem;
    margin-top: 0;
  }
  
  .validation-panel > p {
    font-size: 0.85rem;
    margin-bottom: 1rem;
    line-height: 1.4;
    display: block;
    width: 100%;
  }
  
  .validation-columns {
    flex-direction: column;
    gap: 1.5rem;
    width: 100%;
    display: flex;
  }
  
  .validation-inputs {
    width: 100%;
    order: 2; /* Move inputs below preview on mobile */
    flex: none;
  }
  
  .curl-preview {
    width: 100%;
    order: 1; /* Show preview first on mobile */
    flex: none;
  }
  
  .validation-inputs h4,
  .curl-preview h4 {
    font-size: 1rem;
    margin-bottom: 0.75rem;
    margin-top: 0;
    color: var(--heading-color);
  }
  
  .validation-inputs .form-group {
    margin-bottom: 0.75rem;
    width: 100%;
  }

  /* Validation parameters grid on mobile */
  .validation-params-grid {
    grid-template-columns: 1fr; /* Single column on mobile */
    gap: 10px;
  }

  .validation-param-item {
    gap: 3px;
  }

  .validation-param-label {
    font-size: 0.85rem;
  }

  .validation-param-input {
    padding: 6px 8px;
    font-size: 0.85rem;
  }
  
  .validation-inputs label {
    font-size: 0.85rem;
    margin-bottom: 0.25rem;
    font-weight: 500;
    color: var(--text-color);
    opacity: 0.9;
    display: block;
  }
  
  .validation-inputs input {
    font-size: 0.9rem;
    padding: var(--form-input-padding);
    height: var(--form-input-height);
    width: 100%;
    box-sizing: border-box;
  }
  
  .curl-preview .api-scaffold-content {
    font-size: 0.75rem;
    padding: 0.75rem;
    max-height: 200px;
    overflow-y: auto;
    overflow-x: auto;
    width: 100%;
    box-sizing: border-box;
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
  }
  
  .curl-preview pre {
    margin: 0;
    width: 100%;
    white-space: pre-wrap;
    word-break: break-word;
  }
  
  .curl-preview code {
    display: block;
    width: 100%;
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
  }
  
  /* Feedback messages on mobile */
  .validation-panel .feedback {
    font-size: 0.85rem;
    padding: 0.75rem 1rem;
    margin-bottom: 1rem;
    width: 100%;
    box-sizing: border-box;
  }
  
  /* Button groups on mobile */
  .modal-form-navigation,
  .validation-actions {
    flex-direction: column;
    gap: 0.5rem;
    width: 100%;
    margin-top: 1rem;
  }
  
  /* Position validation buttons at bottom on mobile */
  .validation-actions {
    margin-top: auto; /* Push to bottom */
    padding-top: 0.75rem;
    position: sticky;
    bottom: 0;
    background: var(--modal-content-bg);
    border-top: 1px solid var(--card-border);
    margin-left: -1rem;
    margin-right: -1rem;
    margin-bottom: -1rem;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
    padding-bottom: 0.75rem;
    width: calc(100% + 2rem); /* Full width accounting for negative margins */
    box-sizing: border-box;
  }
  
  /* Make validate & register button have black text on mobile */
  .validation-actions .btn-primary {
    color: #000000;
  }
  
  .modal-form-navigation button,
  .validation-actions button {
    width: 100%;
    padding: var(--form-action-button-padding);
    font-size: 0.95rem;
    min-height: var(--form-action-button-height);
  }
  
  .validation-actions .btn-primary {
    order: 1;
  }
  
  .validation-actions .btn-secondary {
    order: 2;
  }
}

/* Very small screens - iPhone SE, etc */
@media (max-width: 576px) {
  .modal-title {
    font-size: 1.1rem;
  }
  
  /* Modal takes full screen on very small devices */
  .modal-overlay {
    padding: 2px; /* Minimal padding for very small screens */
  }
  
  .modal-content {
    margin: 0;
    width: 100%;
    height: 100%;
    max-height: 100vh;
    border-radius: 0;
    padding: 5px; /* Reduced padding for maximum width */
  }
  
  .modal-header {
    margin: -5px -5px 5px -5px;
  }
  
  /* Compact form elements */
  .form-section h5 {
    font-size: 0.95rem;
  }
  
  label {
    font-size: 0.85rem;
  }
  
  /* Hypergrid Entry Form mobile adjustments */
  .hypergrid-entry-form {
    font-size: 0.85rem;
  }
  
  .hypergrid-entry-form .hns-name {
    font-size: 0.95rem;
    word-break: break-all;
  }
  
  .hypergrid-entry-form input,
  .hypergrid-entry-form textarea {
    font-size: 0.85rem;
  }
  
  .hypergrid-entry-form label {
    font-size: 0.8rem;
  }
  
  /* Reduce gap between Hypergrid Entry form and API Structure Preview on mobile */
  .modal-left-column {
    gap: 10px;
  }
  
  .hypergrid-entry-form {
    margin-bottom: 0;
  }
  
  /* Validation panel on very small screens */
  .validation-panel {
    padding: 0.75rem;
  }
  
  .validation-panel h3 {
    font-size: 1.1rem;
  }
  
  .validation-panel > p {
    font-size: 0.8rem;
    margin-bottom: 0.75rem;
  }
  
  .validation-columns {
    gap: 1rem;
  }
  
  .validation-inputs h4,
  .curl-preview h4 {
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
  }
  
  .validation-inputs .form-group {
    margin-bottom: 0.5rem;
  }
  
  .validation-inputs label {
    font-size: 0.8rem;
  }
  
  .validation-inputs input {
    font-size: 0.85rem;
    padding: 0.4rem 0.6rem;
    height: 36px;
  }
  
  .api-scaffold-content {
    font-size: 0.75rem;
    padding: 0.5rem;
    overflow-x: auto;
    overflow-y: visible;
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
    max-width: 100%;
    box-sizing: border-box;
  }
  
  .api-scaffold-content code {
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
    display: block;
    width: 100%;
  }
  
  .curl-preview .api-scaffold-content {
    font-size: 0.7rem;
    padding: 0.5rem;
    max-height: 150px;
    white-space: pre-wrap;
    word-break: break-word;
    word-wrap: break-word;
  }
  
  .validation-actions button {
    font-size: 0.9rem;
    padding: 0.75rem 1rem;
  }
  
  .validation-panel .feedback {
    font-size: 0.8rem;
    padding: 0.5rem 0.75rem;
  }
  
  /* API format selection cards on very small screens */
  .api-format-selection-pane pre {
    font-size: 0.7rem;
    padding: 4px;
    line-height: 1.3;
  }
}

/* Landscape mode adjustments */
@media (max-width: 768px) and (orientation: landscape) {
  .app-header {
    padding: 0.5rem 1rem;
  }
  
  .modal-content {
    max-height: calc(100vh - 1rem);
  }
  
  .modal-body {
    max-height: calc(100vh - 100px);
  }
}

@media (max-width: 768px) {
  :root {
    --form-input-height: 44px;  /* Touch-friendly mobile size */
    --form-button-height: 44px;
  }
}